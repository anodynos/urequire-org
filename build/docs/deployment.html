<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta charset="utf-8"><meta name="keywords" content="javascript, modules, module, convert, commonjs, AMD, UMD, UMDjs, format, converter, conversion, requirejs, require, define, browserify, dependency, dependencies, bundle, package"><meta name="description" content="Javascript Universal Module &amp; Resource Converter: convert modules from commonjs to AMD, AMD modules to commonjs, requirejs to nodejs to UMD, to standalone optimized .js"><title>Deployment - uRequire: JavaScript Universal Module &amp; Resource Converter: convert modules from AMD to nodejs, commonjs and back, to UMD, to plain script .js</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lato:400,700"><link rel="shortcut icon" href="../img/favicon.ico" type="image/x-icon"><!--script--><!--  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){--><!--  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),--><!--  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)--><!--  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');--><!----><!--  ga('create', 'UA-41565621-1', 'urequire.org');--><!--  ga('send', 'pageview');--></head><body class="page-docs page-secondary"><a href="https://github.com/anodynos/urequire"><img style="position: absolute; top: 0; right: 0; border: 0; z-index: 1;" src="img/github_forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a><div class="navbar navbar-inverse"><div class="navbar-inner"><div class="container"><a href="/" class="brand"><img src="../img/urequire-logo.png" alt="convert, javascript, modules, commonjs, requirejs, nodejs, AMD, UMD, dependencies, resources, conversion, workflow, in-memory, asset, pipeline" class="logo"></a><div class="nav-collapse collapse"><ul class="nav"><li><a href="/features"><i class="icon-arrow-right"></i><span>uRequire Features</span></a></li><li><a href="/quick-introduction"><i class="icon-document-alt-stroke"></i><span>Documentation</span></a></li><li><a href="/masterdefaultsconfig.coffee"><i class="icon-cog"></i><span>uRequire Config</span></a></li><li><a href="/resourceconverters.coffee"><i class="icon-power-cord"></i><span>Resource Converters</span></a></li></ul></div></div></div></div><div class="content"><div class="container deployment"><div class="row-fluid"><div class="span9 page"><div class="hero-unit docs"><h1>Deployment</h1><h2><a class="anchor" href="#umd-template-deployment-options" id="umd-template-deployment-options">UMD template deployment options</a></h2>
<h3><a class="anchor" href="#web-amd" id="web-amd">Web/AMD</a></h3>
<ul>
<li><p>There is no additional dependency when &#39;UMD&#39; moduless are running on Web (AMD/RequireJS) - use them as you would use strict AMD modules. Naturally your UMDs can work seamlessly with other &#39;native&#39; AMD modules.</p>
</li>
<li><p>If you want to optimize your modules and bundle them by hand using r.js or almond etc, you can <a href="amd-template">convert your modules to AMD</a> instead of UMD, and pass them through r.js as you would normally do. uRequire does this in one step via the <a href="combined-template"><code>combined</code> template</a>.</p>
</li>
</ul>
<h3><a class="anchor" href="#nodejs" id="nodejs">nodejs</a></h3>
<ul>
<li><p>On nodejs, as long as &#39;urequire&#39; package is installed via npm, your UMD generated modules can be used as-is by any UMD or native nodejs module via the bare <code>require(&#39;&#39;)</code> call. Although your source modules were written in AMD and perhaps use asynchronous require calls, plugins etc they work seamlessly on nodejs.</p>
</li>
<li><p>Additionally your ex-AMD/nodejs, now UMDfied modules, can <code>require(&#39;module&#39;)</code> any <em>node-native module</em> installed via npm or residing on your file system. Its <em>MAD</em>, but RequireJS AMD modules wont let you do that (@version 2.1.1). <em> <strong>Note: you have to conditionally make sure the node-natives aren&#39;t called/executing on browser; or better replace them with some client counterpart lib!</strong> If you want to <code>require(&#39;&#39;)</code> a node-only module, that shouldn&#39;t be <a href="synchronous-require#never-miss-a-dependency">added to the deps array</a>, use the <code>node!moduleName</code> pseudo-plugin, that signals node-only execution. </em></p>
</li>
<li><p>You can use <em>native RequireJS loader plugins</em> (eg <code>text!mytext.txt</code>), through RequireJS it self. Your nodejs-looking modules can actually use RequireJS plugins.</p>
</li>
<li><p>Finally from within your UMD module you can require <em>native AMD modules</em> on node (ones that aren&#39;t converted to UMD, i.e start with <code>define()</code>). If uRequire fails to load a module with node&#39;s <code>require</code>, it passes it to RequireJS/node it self - this perhaps needs more testing, but it does the trick for now.</p>
</li>
</ul>
<h3><a class="anchor" href="#plain-umd" id="plain-umd">Plain UMD</a></h3>
<p>With version &gt;= 0.6.4 you can use &#39;UMDplain&#39; template, which has no dependency on &#39;urequire&#39; on nodejs but you &#39;ll be missing all of the above goodies - i.e no AMD plugins, no native AMD requires, no path resolution, no mappings and more - <a href="nodejs-template">check nodejs template for limitations</a>.</p>
<h2><a class="anchor" href="#deployment-options-for-combined-template" id="deployment-options-for-combined-template">Deployment options for <code>combined</code> template</a></h2>
<p>The <a href="combined-template"><code>combined</code> template</a> builds your bundle as a single <code>.js</code> file, ready to be deployed in any environment:</p>
<h4><a class="anchor" href="#web-script-script" id="web-script-script">Web/Script &lt;/script&gt;</a></h4>
<p>Works in browser, as a simple <code>&lt;script/&gt;</code>, independently of AMD/RequireJS. The script can register some global (<code>window</code>) variables when it loads, for example <code>$2</code> or <code>_B</code>, via the <a href="exporting-modules#simplified-rootexports"><code>rootExports</code></a> declaration.</p>
<p>It accesses all other (non-inlined) global dependencies (eg <code>&#39;underscore&#39;</code>) through the global space (<code>window</code>), like all plain <code>&lt;script/&gt;</code> do. So for example, you <code>&lt;script/&gt;</code> load your <code>&#39;jquery.js&#39;</code>, <code>&#39;lodash.js&#39;</code> and <code>&#39;Backbone.js&#39;</code> and then you load your <code>&#39;MyUrequireCombinedApp.js&#39;</code> and you&#39;re done!</p>
<h4><a class="anchor" href="#web-amd" id="web-amd">Web/AMD</a></h4>
<p>The combined script works as a normal AMD dependency, loading all other (non-included) dependencies through AMD&#39;s mechanism. In other words its using <code>rjs.baseUrl</code>, <code>rjs.paths</code>, <code>rjs.shim</code> etc.</p>
<h4><a class="anchor" href="#nodejs" id="nodejs">nodejs</a></h4>
<p>Works in nodejs, as is. Its loading all (non-inlined) dependencies through nodejs&#39;s <code>&#39;require()&#39;</code>.</p>
<p>It has no other dependencies, i.e you dont need to have <em>uRequire</em> or <em>RequireJs</em> installed locally at all.</p>
</div></div><div class="span3"><div class="well sidebar-nav"><ul class="nav nav-list"><li class="nav-header"><i class="icon-document-alt-stroke"></i><span>Introduction</span></li><li><a href="/quick-introduction">Quick Introduction</a></li><li><a href="/ultimate-aims">Ultimate Aims</a></li><li><a href="/features">Features</a></li><li><a href="/installing-urequire">Installing uRequire</a></li></ul><ul class="nav nav-list"><li class="nav-header"><span>Using &amp; Configuration</span></li><li><a href="/using-urequire">Using uRequire</a></li><li><a href="/masterdefaultsconfig.coffee">MasterDefaultsConfig.coffee</a></li><li><a href="/resourceconverters.coffee">ResourceConverters.coffee</a></li><li><a href="/types-and-derive">Types and Derive</a></li><li><a href="/tags-legend">Tags Legend</a></li><li><a href="/cli-options">CLI Options</a></li></ul><ul class="nav nav-list"><li class="nav-header"><span>Module Authoring</span></li><li><a href="/universal-module-format">Universal Module Format</a></li><li><a href="/flexible-path-conventions">Flexible Path Conventions</a></li><li><a href="/synchronous-require">Synchronous Require</a></li><li><a href="/asynchronous-require">Asynchronous Require</a></li><li><a href="/exporting-modules">Exporting Modules</a></li><li><a href="/mappings">Mappings</a></li><li><a href="/requirejs-loader-plugins">RequireJS Loader Plugins</a></li><li><a href="/authoring-notes-and-warnings">Authoring Notes and Warnings</a></li><li><a href="/deployment" class="active">Deployment</a></li></ul><ul class="nav nav-list"><li class="nav-header"><span>Conversion Templates</span></li><li><a href="/umd-template">UMD Template</a></li><li><a href="/amd-template">AMD Template</a></li><li><a href="/nodejs-template">nodejs Template</a></li><li><a href="/combined-template">combined Template</a></li><li><a href="/your-custom-template">your-custom Template</a></li></ul><ul class="nav nav-list"><li class="nav-header"><span>Misc</span></li><li><a href="/frequently-asked-questions">Frequently Asked Questions</a></li><li><a href="/history">History</a></li><li><a href="/future-directions">Future Directions</a></li><li><a href="/acknowledgements">Acknowledgements</a></li><li><a href="/contributing">Contributing</a></li></ul><div class="advertisements">Powered by <a href="http://github.com/anodynos/uberscore">uBerscore</a>, the unorthodox _ experiment. uRequire's wicked <a href="/types-and-derive#deriving-behaviors">config derivation</a> is using _B.Blender.</div><div class="advertisements">Using <a href="http://gruntjs.com">gruntjs</a> ? Check <a href="https://github.com/aearly/grunt-urequire">grunt-urequire</a>, where you can use <a href="/masterdefaultsconfig.coffee#config-usage">uRequire config</a> as a grunt task.</div><div class="advertisements">Related articles: <a href="http://addyosmani.com/writing-modular-js/">Writing Modular JavaScript With AMD, CommonJS & ES Harmony</a> and <a href="http://addyosmani.com/largescalejavascript/">Patterns For Large-Scale JavaScript Application Architecture</a> by <a href="http://twitter.com/addyosmani">Addy Osmani</a>.</div><div class="advertisements">Developed with a kindly sponsored free version of <a href="http://www.jetbrains.com/idea/"><img src="/img/logo_intellij_idea.png"/></a></div></div></div></div></div></div><footer class="urequire-footer"><div class="inner"><div class="container"><ul class="pull-right"><li><a href="/contributing">Contributing</a></li><li class="social"><a href="https://github.com/anodynos/urequire" alt="uRequire on GitHub"><span class="icon-github"></span></a></li><li class="social"><a href="https://twitter.com/urequire/" alt="uRequire on Twitter"><span class="icon-twitter"></span></a></li></ul><ul class="pull-left"><li>uRequire is an open source project, MIT license. (C)<a href="http://github.com/anodynos" alt="anodynos"></a>Agelos Pikoulas 2013</li></ul></div></div></footer></body></html>